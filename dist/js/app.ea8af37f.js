(function(){"use strict";var o={9291:function(o,e,t){var r=t(9242),n=t(3396);const a={class:"appContainer"};function s(o,e){const t=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)("div",a,[(0,n.Wm)(t)])}var i=t(89);const l={},u=(0,i.Z)(l,[["render",s]]);var c=u,d=t(65);const m=(0,d.MT)({actions:{async fetchBooks(o){try{const e=await fetch(`https://www.googleapis.com/books/v1/volumes?q=${this.state.searchStr}+subject:${this.state.category}&maxResults=30&orderBy=${this.state.order}`),t=await e.json(),r=t.items,n=t.totalItems;o.commit("updateNewBooks",r),o.commit("updateBooksNumber",n)}catch(e){throw console.error(e),new Error("Something went wrong during search")}},async loadMoreBooks(o){try{const e=await fetch(`https://www.googleapis.com/books/v1/volumes?q=${this.state.searchStr}+subject:${this.state.category}&startIndex=${this.state.startIndex}&maxResults=30&orderBy=${this.state.order}`),t=await e.json(),r=t.items;o.commit("updateMoreBooks",r)}catch(e){throw console.error(e),new Error("Something went wrong during loading")}},async fetchBookInfo(o){try{const e=await fetch(`https://www.googleapis.com/books/v1/volumes/${this.state.bookId}`),t=await e.json();o.commit("updateBookInfo",t),this.bookInfo=t}catch(e){throw console.error(e),new Error("Something went wrong when loading information")}}},mutations:{updateNewBooks(o,e){o.books=e},updateMoreBooks(o,e){o.books=[...o.books,...e]},updateBookInfo(o,e){o.bookInfo=e},updateBookId(o,e){o.bookId=e},updateSearchStr(o,e){o.searchStr=e},updateCategory(o,e){o.category=e},updateSortBy(o,e){o.order=e},updateBooksNumber(o,e){o.booksNumber=e},updateStartIndex(o,e){o.startIndex=e}},state:{books:[],bookInfo:{},bookId:"",booksNumber:null,startIndex:0},getters:{booksFound(o){return o.books},bookInfo(o){return o.bookInfo},booksNumber(o){return o.booksNumber}}});t(9773);var k=t(8957),f=t(2483),h=t(7139);const b={class:"header"},p=["src","alt"];function v(o,e,t,r,a,s){const i=(0,n.up)("v-btn"),l=(0,n.up)("RouterLink"),u=(0,n.up)("v-progress-circular"),c=(0,n.up)("text-body-1"),d=(0,n.up)("v-card");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",b,[(0,n.Wm)(l,{style:{"text-decoration":"none"},to:"/"},{default:(0,n.w5)((()=>[(0,n.Wm)(i,{class:"backBtn",variant:"tonal"},{default:(0,n.w5)((()=>[(0,n.Uk)(" BACK ")])),_:1})])),_:1})]),a.isLoading?((0,n.wg)(),(0,n.j4)(u,{key:0,class:"spinner",indeterminate:"",color:"primary","model-value":"20",size:55,width:5})):((0,n.wg)(),(0,n.j4)(d,{key:1,class:"bookItem"},{default:(0,n.w5)((()=>[(0,n._)("img",{src:o.bookInfo?.volumeInfo?.imageLinks?.thumbnail,alt:o.bookInfo?.volumeInfo?.title},null,8,p),(0,n.Wm)(c,{class:"font-weight-bold"},{default:(0,n.w5)((()=>[(0,n.Uk)("Title: "+(0,h.zw)(o.bookInfo?.volumeInfo?.title),1)])),_:1}),(0,n.Wm)(c,{class:"font-italic"},{default:(0,n.w5)((()=>[(0,n.Uk)("Author: "+(0,h.zw)(o.bookInfo?.volumeInfo?.authors&&1===o.bookInfo?.volumeInfo?.authors.length?o.bookInfo?.volumeInfo?.authors[0]:o.bookInfo?.volumeInfo?.authors?o.bookInfo?.volumeInfo?.authors.toString().split(",").join(", "):"unknown"),1)])),_:1}),(0,n.Wm)(c,{class:"font-italic"},{default:(0,n.w5)((()=>[(0,n.Uk)("Categories: "+(0,h.zw)(o.bookInfo?.volumeInfo?.categories&&1===o.bookInfo?.volumeInfo?.categories.length?o.bookInfo?.volumeInfo?.categories[0]:o.bookInfo?.volumeInfo?.categories?o.bookInfo?.volumeInfo?.categories.toString().split(",").join(", "):"no"),1)])),_:1}),(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,h.zw)(o.bookInfo?.volumeInfo?.description),1)])),_:1})])),_:1}))],64)}var g={data(){return{isLoading:!0}},computed:(0,d.Se)(["bookInfo"]),methods:{...(0,d.nv)(["fetchBookInfo"]),...(0,d.OI)(["updateBookId"])},created(){this.updateBookId(this.$route.path.slice(1)),this.fetchBookInfo().then((()=>this.isLoading=!1))}};const w=(0,i.Z)(g,[["render",v],["__scopeId","data-v-85dad46a"]]);var I=w;const y=o=>((0,n.dD)("data-v-885f5c60"),o=o(),(0,n.Cn)(),o),_={class:"wrapper"},B=y((()=>(0,n._)("h1",{class:"heading"},"BOOK SEARCH",-1))),S={class:"searchParams"},j=y((()=>(0,n._)("label",null,"Select category:",-1))),C=y((()=>(0,n._)("label",null,"Order by:",-1))),O={class:"resultWrapper"};function x(o,e,t,a,s,i){const l=(0,n.up)("v-text-field"),u=(0,n.up)("v-select"),c=(0,n.up)("v-btn"),d=(0,n.up)("v-radio"),m=(0,n.up)("v-radio-group"),k=(0,n.up)("text-button"),f=(0,n.up)("BookList"),b=(0,n.up)("v-progress-circular");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",_,[(0,n._)("form",{class:"searchPanel",onSubmit:e[3]||(e[3]=(0,r.iM)(((...o)=>i.submit&&i.submit(...o)),["prevent"]))},[B,(0,n._)("div",S,[(0,n.Wm)(l,{modelValue:s.searchStrEntered,"onUpdate:modelValue":e[0]||(e[0]=o=>s.searchStrEntered=o),density:"comfortable",class:"searchInput",variant:"solo",placeholder:"Search..."},null,8,["modelValue"]),(0,n._)("div",null,[j,(0,n.Wm)(u,{items:s.categories,modelValue:s.category,"onUpdate:modelValue":e[1]||(e[1]=o=>s.category=o),"item-title":"label","item-value":"value",class:"selectCategory",variant:"solo",density:"comfortable"},null,8,["items","modelValue"])]),(0,n.Wm)(c,{size:"large",type:"submit",variant:"tonal",class:"searchBtn"},{default:(0,n.w5)((()=>[(0,n.Uk)("Search")])),_:1})]),(0,n._)("div",null,[C,(0,n.Wm)(m,{color:"indigo-darken-3",modelValue:s.orderBy,"onUpdate:modelValue":e[2]||(e[2]=o=>s.orderBy=o),onChange:i.submit,inline:""},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{color:"indigo-darken-3",label:"Relevance",value:"relevance"}),(0,n.Wm)(d,{label:"Newest",value:"newest"})])),_:1},8,["modelValue","onChange"])])],32)]),(0,n._)("div",O,[o.booksNumber?((0,n.wg)(),(0,n.j4)(k,{key:0,class:"searchResult"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,h.zw)(o.booksNumber)+" books",1)])),_:1})):(0,n.kq)("",!0),(0,n.Wm)(f,{books:o.booksFound},null,8,["books"])]),(0,n._)("div",null,[s.isLoading?((0,n.wg)(),(0,n.j4)(b,{key:0,class:"spinner",indeterminate:"",color:"primary","model-value":"20",size:55,width:5})):(0,n.kq)("",!0)])],64)}const L={class:"bookList"},W={class:"spinner"};function U(o,e,t,r,a,s){const i=(0,n.up)("BookItem"),l=(0,n.up)("v-btn"),u=(0,n.up)("v-progress-circular");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",L,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.books,(o=>((0,n.wg)(),(0,n.j4)(i,{key:o.id,book:o},null,8,["book"])))),128))]),t.books.length>0?((0,n.wg)(),(0,n.j4)(l,{key:0,block:"",rounded:"lg",class:"loadmoreBtn",variant:"tonal",onClick:s.loadBooks},{default:(0,n.w5)((()=>[(0,n.Uk)(" load more ")])),_:1},8,["onClick"])):(0,n.kq)("",!0),(0,n._)("div",W,[a.isLoading?((0,n.wg)(),(0,n.j4)(u,{key:0,indeterminate:"",color:"primary","model-value":"20",size:55,width:5})):(0,n.kq)("",!0)])],64)}const z=["src","alt"];function M(o,e,t,r,a,s){const i=(0,n.up)("v-card-subtitle"),l=(0,n.up)("v-card"),u=(0,n.up)("RouterLink");return(0,n.wg)(),(0,n.j4)(u,{style:{"text-decoration":"none"},to:`/${t.book.id}`},{default:(0,n.w5)((()=>[(0,n.Wm)(l,{height:"100%",hover:"true",class:"bookItem",onClick:e[0]||(e[0]=e=>o.updateBookId(t.book.id))},{default:(0,n.w5)((()=>[s.bookCategory?((0,n.wg)(),(0,n.j4)(i,{key:0},{default:(0,n.w5)((()=>[(0,n.Uk)("Category: "+(0,h.zw)(s.bookCategory),1)])),_:1})):(0,n.kq)("",!0),s.volumeInfo.imageLinks.thumbnail?((0,n.wg)(),(0,n.iD)("img",{key:1,src:s.volumeInfo.imageLinks.thumbnail,alt:s.volumeInfo.title},null,8,z)):(0,n.kq)("",!0),(0,n._)("h4",null,(0,h.zw)(s.volumeInfo.title),1),(0,n.Wm)(i,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,h.zw)(s.bookAuthor),1)])),_:1})])),_:1})])),_:1},8,["to"])}var N={props:{book:{type:Object,required:!0}},computed:{volumeInfo(){return this.book.volumeInfo},bookAuthor(){return this.book.volumeInfo.authors?1===this.book.volumeInfo.authors.lenght?this.book.volumeInfo.authors[0]:this.book.volumeInfo.authors.toString().split(",").join(", "):""},bookCategory(){return this.book.volumeInfo.categories?this.book.volumeInfo.categories[0]:""}},methods:{...(0,d.OI)(["updateBookId"])}};const q=(0,i.Z)(N,[["render",M],["__scopeId","data-v-752869d6"]]);var P=q,$={props:{books:{type:Array,required:!0}},components:{BookItem:P},data(){return{currentPage:1,isLoading:!1}},computed:{},methods:{...(0,d.nv)(["loadMoreBooks"]),...(0,d.OI)(["updateStartIndex"]),loadBooks(){this.isLoading=!0,this.updateStartIndex(30*(this.currentPage+1)),this.loadMoreBooks().then((()=>this.isLoading=!1))}}};const E=(0,i.Z)($,[["render",U],["__scopeId","data-v-5b179909"]]);var V=E,A={data(){return{orderBy:"relevance",category:"",searchStrEntered:"",isLoading:!1,categories:[{label:"all",value:""},{label:"Art",value:"Art"},{label:"Biography",value:"Biography"},{label:"Computers",value:"Computers"},{label:"History",value:"History"},{label:"Medical",value:"Medical"},{label:"Poetry",value:"Poetry"},{label:"Fiction",value:"Fiction"}]}},computed:(0,d.Se)(["booksFound","booksNumber"]),methods:{...(0,d.nv)(["fetchBooks"]),...(0,d.OI)(["updateSearchStr","updateCategory","updateSortBy"]),submit(){this.isLoading=!0,this.updateSortBy(this.orderBy),this.updateSearchStr(this.searchStrEntered),this.updateCategory(this.category),this.fetchBooks().then((()=>this.isLoading=!1))}},components:{BookList:V}};const R=(0,i.Z)(A,[["render",x],["__scopeId","data-v-885f5c60"]]);var D=R,H=(0,f.p7)({history:(0,f.r5)(),routes:[{path:"/",component:D},{path:"/:bookId",component:I,props:!0}]}),F=t(8893),T=t(8600);const Z=(0,k.Rd)({components:F,directives:T});(0,r.ri)(c).use(Z).use(m).use(H).mount("#app")}},e={};function t(r){var n=e[r];if(void 0!==n)return n.exports;var a=e[r]={exports:{}};return o[r].call(a.exports,a,a.exports,t),a.exports}t.m=o,function(){var o=[];t.O=function(e,r,n,a){if(!r){var s=1/0;for(c=0;c<o.length;c++){r=o[c][0],n=o[c][1],a=o[c][2];for(var i=!0,l=0;l<r.length;l++)(!1&a||s>=a)&&Object.keys(t.O).every((function(o){return t.O[o](r[l])}))?r.splice(l--,1):(i=!1,a<s&&(s=a));if(i){o.splice(c--,1);var u=n();void 0!==u&&(e=u)}}return e}a=a||0;for(var c=o.length;c>0&&o[c-1][2]>a;c--)o[c]=o[c-1];o[c]=[r,n,a]}}(),function(){t.n=function(o){var e=o&&o.__esModule?function(){return o["default"]}:function(){return o};return t.d(e,{a:e}),e}}(),function(){t.d=function(o,e){for(var r in e)t.o(e,r)&&!t.o(o,r)&&Object.defineProperty(o,r,{enumerable:!0,get:e[r]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(o){if("object"===typeof window)return window}}()}(),function(){t.o=function(o,e){return Object.prototype.hasOwnProperty.call(o,e)}}(),function(){t.r=function(o){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}}(),function(){var o={143:0};t.O.j=function(e){return 0===o[e]};var e=function(e,r){var n,a,s=r[0],i=r[1],l=r[2],u=0;if(s.some((function(e){return 0!==o[e]}))){for(n in i)t.o(i,n)&&(t.m[n]=i[n]);if(l)var c=l(t)}for(e&&e(r);u<s.length;u++)a=s[u],t.o(o,a)&&o[a]&&o[a][0](),o[a]=0;return t.O(c)},r=self["webpackChunkbook_search_app"]=self["webpackChunkbook_search_app"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=t.O(void 0,[998],(function(){return t(9291)}));r=t.O(r)})();
//# sourceMappingURL=app.ea8af37f.js.map